{% extends "layout.html" %}
{% block body %}
  <br>
  <div class="row">
    <!-- Modal Trigger -->
    <a class="waves-effect waves-light btn" href="#modal1">Agregar Dispositivo</a>
  </div>
  <div class="row">
    <div class="col s6">
      <div id="tickets">
      </div>
    </div>
    <div class="col s6">
      <h2>Dispositivos</h2>
      <div class="collection">
        {% for resource in resources %}
          <a class="collection-item" href="/{{ resource.resource_id }}">
            {{ resource.resource_id }} - {{ resource.name }}
          </a>
        {% endfor %}
      </div>
    </div>
  </div>

  <!-- Modal Structure -->
  <div id="modal1" class="modal">
    <div class="modal-content">
      <h4>Agregar Dispositivo</h4>
      <div class="row">
        <form class="col s12">
          <div class="row">
            <div class="input-field col s6">
              <i class="material-icons prefix">assignment</i>
              <input id="resource_id" type="text" class="validate">
              <label for="resource_id">Identificador</label>
            </div>
            <div class="input-field col s6">
              <i class="material-icons prefix">mode_edit</i>
              <input id="name" type="tel" class="validate">
              <label for="name">Nombre</label>
            </div>
          </div>
          <a class="waves-effect waves-light btn" onclick="createResource()"><i class="material-icons left">cloud</i>Guardar</a>
        </form>
      </div>

    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat" onclick="clearResourcesForm()">Cancelar</a>
    </div>
  </div>
{% endblock %}
{% block javascript %}
<script type="text/javascript">
  $(function() {
    $('.modal').modal();
    loadAllTickets();
  });
</script>
{% endblock %}